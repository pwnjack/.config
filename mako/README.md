# Mako Notification System - Pywal Integration

## Automatic Color Theming

Your mako notifications are automatically themed to match your wallpaper using pywal!

### How It Works

1. **Change Wallpaper** - Use waypaper, wallpaper scripts, or any method
2. **Pywal Generates Colors** - Colors extracted from your wallpaper
3. **Mako Auto-Updates** - Notification colors match your theme

### Color Mapping

Based on pywal's 16-color palette:

| Element | Pywal Color | Usage |
|---------|-------------|-------|
| Background | `background` + transparency | Notification base |
| Text | `foreground` | Main text |
| Border (normal) | `color4` | Default notifications |
| Border (low) | `color2` | Low priority |
| Border (critical) | `color1` | Critical alerts |
| Spotify | `color5` | Music notifications |
| Discord | `color6` | Chat notifications |

### Files

- **`config`** - Auto-generated by `apply_wal_colors.sh`
- **`apply_wal_colors.sh`** - Script that applies pywal colors
- Called automatically by `~/.config/scripts/hyprland/wall.sh`

### Manual Update

If you want to regenerate mako colors:

```bash
~/.config/mako/apply_wal_colors.sh
```

### Current Colors

Your mako config is regenerated every time you change wallpaper. The colors come from:
```bash
~/.cache/wal/colors.sh
```

### Customization

The script template is in `apply_wal_colors.sh`. You can modify:
- Font and size
- Border radius and thickness
- Icon size
- Timeout durations
- Position (anchor, margin)
- Urgency level styling
- App-specific colors

Example modifications in `apply_wal_colors.sh`:

```bash
# Change font
font=YourFont 12

# Change position
anchor=bottom-right
margin=10

# Add more app-specific colors
[app-name="Telegram"]
border-color=${color3}
```

### Urgency Levels

The script automatically sets different colors for:

**Low Priority** (color2)
- Background processes
- Non-urgent updates

**Normal** (color4)
- Default notifications
- App messages

**Critical** (color1)
- System alerts
- Errors
- Important warnings (never times out)

### Testing

Send a test notification:

```bash
# Normal notification
notify-send "Test" "This is a normal notification"

# Critical notification
notify-send -u critical "Important!" "This is critical"

# Low priority
notify-send -u low "Info" "Just FYI"
```

### Integration

Mako colors update automatically when:
- You change wallpaper via waypaper
- Scripts call `wall.sh`
- Any wallpaper change that triggers pywal

**Script chain:**
1. Wallpaper changes
2. `wal -i wallpaper.jpg` generates colors
3. `apply_wal_colors.sh` updates mako config
4. `makoctl reload` applies new colors
5. Next notification uses new theme!

---

**Status:** âœ… Integrated with pywal theming system
**Auto-updates:** Yes, on every wallpaper change
**Manual edit:** Not recommended (will be overwritten)
